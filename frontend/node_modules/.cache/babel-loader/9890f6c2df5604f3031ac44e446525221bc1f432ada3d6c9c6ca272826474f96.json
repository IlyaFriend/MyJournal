{"ast":null,"code":"var _jsxFileName = \"/home/illia/projects/blogs/first/frontend/src/components/Blogs.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { Container, Row, Col, Button } from 'reactstrap';\nimport BlogTemplate from './subcomponents/BlogTemplate';\nimport api from '../utils/Api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Blogs(_ref) {\n  _s();\n  let {\n    userId,\n    isAdmin\n  } = _ref;\n  const [blogs, setBlogs] = useState([]);\n  const onDelete = async blogId => {\n    await api.request(\"delete\", `/blogs/${blogId}`);\n  };\n  const getBlogs = async () => {\n    const data = await api.request(\"get\", `/blogs`);\n    if (data) {\n      setBlogs(data);\n    }\n  };\n  useEffect(_ => {\n    const intervalId = setInterval(() => {\n      getBlogs();\n    }, 2000);\n    return () => clearInterval(intervalId);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"marginTop20\",\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        sm: {\n          size: 4,\n          offset: 4\n        },\n        children: blogs.length > 0 ? blogs.map((blog, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(BlogTemplate, {\n            blog: blog,\n            mini: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 29\n          }, this), (blog.writer._id == userId || isAdmin) && /*#__PURE__*/_jsxDEV(Button, {\n            color: \"danger\",\n            size: \"lg\",\n            onClick: e => onDelete(blog._id),\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 37\n          }, this)]\n        }, idx, true, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 40\n        }, this)) : /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"No articels has been made yet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 26\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 9\n  }, this);\n}\n_s(Blogs, \"RDzdeLKEs49XKHWpCIuOQAADm3U=\");\n_c = Blogs;\nexport default Blogs;\nvar _c;\n$RefreshReg$(_c, \"Blogs\");","map":{"version":3,"names":["useState","useEffect","Container","Row","Col","Button","BlogTemplate","api","Blogs","userId","isAdmin","blogs","setBlogs","onDelete","blogId","request","getBlogs","data","_","intervalId","setInterval","clearInterval","size","offset","length","map","blog","idx","writer","_id","e"],"sources":["/home/illia/projects/blogs/first/frontend/src/components/Blogs.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { Container, Row, Col, Button } from 'reactstrap';\nimport BlogTemplate from './subcomponents/BlogTemplate';\nimport api from '../utils/Api';\n\nfunction Blogs ({userId, isAdmin}) {\n    const [blogs, setBlogs] = useState([]);\n\n    const onDelete = async (blogId) => {\n        await api.request(\"delete\", `/blogs/${blogId}`);\n    };\n\n    const getBlogs = async () => {\n        const data = await api.request(\"get\", `/blogs`);\n        if (data) {\n            setBlogs(data);\n        }\n    };\n  \n    useEffect((_) => {\n        const intervalId = setInterval(() => {\n            getBlogs();\n        }, 2000);\n        return () => clearInterval(intervalId);\n    }, []);  \n\n    return (\n        <Container  className='marginTop20'>\n            <Row>\n                <Col sm={{ size: 4,  offset: 4 }}>\n                {\n                    blogs.length > 0 ? blogs.map(\n                        (blog, idx) => <div key={idx}>\n                            <BlogTemplate blog={blog} mini={true} />\n                            {\n                                (blog.writer._id == userId || isAdmin) && (\n                                    <Button color='danger' size=\"lg\" onClick={e => onDelete(blog._id)}>Delete</Button>\n                                )\n                            }\n                        </div> \n                    ) : (<h1>No articels has been made yet</h1>)\n                }\n                </Col>\n            </Row>\n        </Container>\n    )\n}\n\nexport default Blogs;"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,SAAS,EAAEC,GAAG,EAAEC,GAAG,EAAEC,MAAM,QAAQ,YAAY;AACxD,OAAOC,YAAY,MAAM,8BAA8B;AACvD,OAAOC,GAAG,MAAM,cAAc;AAAC;AAE/B,SAASC,KAAK,OAAqB;EAAA;EAAA,IAAnB;IAACC,MAAM;IAAEC;EAAO,CAAC;EAC7B,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAEtC,MAAMa,QAAQ,GAAG,MAAOC,MAAM,IAAK;IAC/B,MAAMP,GAAG,CAACQ,OAAO,CAAC,QAAQ,EAAG,UAASD,MAAO,EAAC,CAAC;EACnD,CAAC;EAED,MAAME,QAAQ,GAAG,YAAY;IACzB,MAAMC,IAAI,GAAG,MAAMV,GAAG,CAACQ,OAAO,CAAC,KAAK,EAAG,QAAO,CAAC;IAC/C,IAAIE,IAAI,EAAE;MACNL,QAAQ,CAACK,IAAI,CAAC;IAClB;EACJ,CAAC;EAEDhB,SAAS,CAAEiB,CAAC,IAAK;IACb,MAAMC,UAAU,GAAGC,WAAW,CAAC,MAAM;MACjCJ,QAAQ,EAAE;IACd,CAAC,EAAE,IAAI,CAAC;IACR,OAAO,MAAMK,aAAa,CAACF,UAAU,CAAC;EAC1C,CAAC,EAAE,EAAE,CAAC;EAEN,oBACI,QAAC,SAAS;IAAE,SAAS,EAAC,aAAa;IAAA,uBAC/B,QAAC,GAAG;MAAA,uBACA,QAAC,GAAG;QAAC,EAAE,EAAE;UAAEG,IAAI,EAAE,CAAC;UAAGC,MAAM,EAAE;QAAE,CAAE;QAAA,UAE7BZ,KAAK,CAACa,MAAM,GAAG,CAAC,GAAGb,KAAK,CAACc,GAAG,CACxB,CAACC,IAAI,EAAEC,GAAG,kBAAK;UAAA,wBACX,QAAC,YAAY;YAAC,IAAI,EAAED,IAAK;YAAC,IAAI,EAAE;UAAK;YAAA;YAAA;YAAA;UAAA,QAAG,EAEpC,CAACA,IAAI,CAACE,MAAM,CAACC,GAAG,IAAIpB,MAAM,IAAIC,OAAO,kBACjC,QAAC,MAAM;YAAC,KAAK,EAAC,QAAQ;YAAC,IAAI,EAAC,IAAI;YAAC,OAAO,EAAEoB,CAAC,IAAIjB,QAAQ,CAACa,IAAI,CAACG,GAAG,CAAE;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QACrE;QAAA,GALgBF,GAAG;UAAA;UAAA;UAAA;QAAA,QAOtB,CACT,gBAAI;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAuC;QAAA;QAAA;QAAA;MAAA;IAE1C;MAAA;MAAA;MAAA;IAAA;EACJ;IAAA;IAAA;IAAA;EAAA,QACE;AAEpB;AAAC,GAzCQnB,KAAK;AAAA,KAALA,KAAK;AA2Cd,eAAeA,KAAK;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}