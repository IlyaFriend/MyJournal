{"ast":null,"code":"import axios from \"axios\";\nimport getJWT from \"./getJWT\";\nconst api = {\n  request: async function (method, url, data) {\n    let headers = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    const jwt = getJWT();\n    let authHeader = {};\n    if (jwt) {\n      authHeader = {\n        Authorization: `Bearer ${jwt}`\n      };\n    }\n    return await axios({\n      url: url,\n      method: method,\n      baseURL: 'http://localhost:5000',\n      headers: {\n        ...headers,\n        ...authHeader\n      },\n      data: data\n    }).then(res => {\n      if (res.status != 200 && res.status != 201) {\n        console.log(`Exception: ${res.statusText}`);\n        return res;\n      }\n      if (method === \"get\") {\n        return res.data;\n      }\n      return res;\n    });\n  }\n};\nexport default api;","map":{"version":3,"names":["axios","getJWT","api","request","method","url","data","headers","jwt","authHeader","Authorization","baseURL","then","res","status","console","log","statusText"],"sources":["/home/illia/projects/blogs/first/frontend/src/utils/Api.js"],"sourcesContent":["import axios from \"axios\";\nimport getJWT from \"./getJWT\";\n\nconst api = {\n  request: async (method, url, data, headers = {}) => {\n    const jwt = getJWT();\n    let authHeader = {};\n\n    if (jwt) {\n        authHeader = {\n            Authorization: `Bearer ${jwt}`,\n        };\n    }\n\n    return await axios({\n        url: url,\n        method: method,\n        baseURL: 'http://localhost:5000',\n        headers: {\n          ...headers,\n          ...authHeader,\n        },\n        data: data,\n    }).then((res) => {\n        if (res.status != 200 && res.status != 201) {\n            console.log(`Exception: ${res.statusText}`)\n            return res\n        }\n        if (method === \"get\") {\n            return res.data;\n        }\n        return res;\n    });\n  },\n};\n\nexport default api;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,UAAU;AAE7B,MAAMC,GAAG,GAAG;EACVC,OAAO,EAAE,gBAAOC,MAAM,EAAEC,GAAG,EAAEC,IAAI,EAAmB;IAAA,IAAjBC,OAAO,uEAAG,CAAC,CAAC;IAC7C,MAAMC,GAAG,GAAGP,MAAM,EAAE;IACpB,IAAIQ,UAAU,GAAG,CAAC,CAAC;IAEnB,IAAID,GAAG,EAAE;MACLC,UAAU,GAAG;QACTC,aAAa,EAAG,UAASF,GAAI;MACjC,CAAC;IACL;IAEA,OAAO,MAAMR,KAAK,CAAC;MACfK,GAAG,EAAEA,GAAG;MACRD,MAAM,EAAEA,MAAM;MACdO,OAAO,EAAE,uBAAuB;MAChCJ,OAAO,EAAE;QACP,GAAGA,OAAO;QACV,GAAGE;MACL,CAAC;MACDH,IAAI,EAAEA;IACV,CAAC,CAAC,CAACM,IAAI,CAAEC,GAAG,IAAK;MACb,IAAIA,GAAG,CAACC,MAAM,IAAI,GAAG,IAAID,GAAG,CAACC,MAAM,IAAI,GAAG,EAAE;QACxCC,OAAO,CAACC,GAAG,CAAE,cAAaH,GAAG,CAACI,UAAW,EAAC,CAAC;QAC3C,OAAOJ,GAAG;MACd;MACA,IAAIT,MAAM,KAAK,KAAK,EAAE;QAClB,OAAOS,GAAG,CAACP,IAAI;MACnB;MACA,OAAOO,GAAG;IACd,CAAC,CAAC;EACJ;AACF,CAAC;AAED,eAAeX,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}