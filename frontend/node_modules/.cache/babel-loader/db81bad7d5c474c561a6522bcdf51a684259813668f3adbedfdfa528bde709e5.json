{"ast":null,"code":"var _jsxFileName = \"/home/illia/projects/blogs/first/frontend/src/components/subcomponents/Blog.js\",\n  _s = $RefreshSig$();\nimport { React, useState, useEffect } from 'react';\nimport { useParams, NavLink } from 'react-router-dom';\nimport { Container, Row, Col } from 'reactstrap';\nimport BlogTemplate from './BlogTemplate';\nimport Comments from '../Comments';\nimport api from '../../utils/Api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Blog(_ref) {\n  _s();\n  let {\n    userId,\n    isAdmin\n  } = _ref;\n  const [blog, setBlog] = useState({});\n  const [blogAuthorId, setBlogAuthorId] = useState(null);\n  let {\n    blogId\n  } = useParams();\n  const getBlog = async () => {\n    const data = await api.request(\"get\", `/blogs/${blogId}`);\n    if (data) {\n      setBlog(data);\n      setBlogAuthorId(data.writer._id);\n    }\n  };\n  useEffect(_ => {\n    const intervalId = setInterval(() => {\n      getBlog();\n    }, 2000);\n    return () => clearInterval(intervalId);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: blog ? /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        sm: {\n          size: 8,\n          offset: 0\n        },\n        className: \"blogTemplate fullBT\",\n        children: [/*#__PURE__*/_jsxDEV(BlogTemplate, {\n          blog: blog,\n          mini: false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 25\n        }, this), blogAuthorId == userId && /*#__PURE__*/_jsxDEV(NavLink, {\n          to: `/edit-blog/${blogId}`,\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 58\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        sm: 4,\n        children: /*#__PURE__*/_jsxDEV(Comments, {\n          blogId: blogId,\n          userId: userId,\n          isAdmin: isAdmin\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Blog is not loaded yet...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 9\n  }, this);\n}\n_s(Blog, \"538d6eLw78Y3FtzH61bmYAc4nw0=\", false, function () {\n  return [useParams];\n});\n_c = Blog;\nexport default Blog;\nvar _c;\n$RefreshReg$(_c, \"Blog\");","map":{"version":3,"names":["React","useState","useEffect","useParams","NavLink","Container","Row","Col","BlogTemplate","Comments","api","Blog","userId","isAdmin","blog","setBlog","blogAuthorId","setBlogAuthorId","blogId","getBlog","data","request","writer","_id","_","intervalId","setInterval","clearInterval","size","offset"],"sources":["/home/illia/projects/blogs/first/frontend/src/components/subcomponents/Blog.js"],"sourcesContent":["import { React, useState, useEffect } from 'react';\nimport { useParams, NavLink } from 'react-router-dom';\nimport { Container, Row, Col } from 'reactstrap';\nimport BlogTemplate from './BlogTemplate';\nimport Comments from '../Comments';\nimport api from '../../utils/Api';\n\nfunction Blog ({userId, isAdmin}) {\n    const [blog, setBlog] = useState({});\n    const [blogAuthorId, setBlogAuthorId] = useState(null);\n    let { blogId } = useParams();\n    \n    const getBlog = async () => {\n        const data = await api.request(\"get\", `/blogs/${blogId}`);\n        if (data) {\n            setBlog(data);\n            setBlogAuthorId(data.writer._id);\n        }\n    };\n\n    useEffect((_) => {\n        const intervalId = setInterval(() => {\n            getBlog();\n        }, 2000);\n        return () => clearInterval(intervalId);\n    }, []);\n\n    return (\n        <Container>\n         {\n            blog ? (\n                <Row>\n                    <Col sm={{ size: 8,  offset: 0 }} className='blogTemplate fullBT'>\n                        <BlogTemplate blog={blog} mini={false}/>\n                        {\n                            (blogAuthorId == userId) && (<NavLink to={`/edit-blog/${blogId}`}>Edit</NavLink>)\n                        }\n                    </Col>\n                    <Col sm={4}>\n                        <Comments blogId={blogId} userId={userId} isAdmin={isAdmin}/>\n                    </Col>\n                </Row>\n            ) : (\n                <Row>\n                    <h3>Blog is not loaded yet...</h3>\n                </Row>\n            )\n         }\n        </Container>\n    )\n}\n\nexport default Blog;"],"mappings":";;AAAA,SAASA,KAAK,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,SAAS,EAAEC,OAAO,QAAQ,kBAAkB;AACrD,SAASC,SAAS,EAAEC,GAAG,EAAEC,GAAG,QAAQ,YAAY;AAChD,OAAOC,YAAY,MAAM,gBAAgB;AACzC,OAAOC,QAAQ,MAAM,aAAa;AAClC,OAAOC,GAAG,MAAM,iBAAiB;AAAC;AAElC,SAASC,IAAI,OAAqB;EAAA;EAAA,IAAnB;IAACC,MAAM;IAAEC;EAAO,CAAC;EAC5B,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGd,QAAQ,CAAC,CAAC,CAAC,CAAC;EACpC,MAAM,CAACe,YAAY,EAAEC,eAAe,CAAC,GAAGhB,QAAQ,CAAC,IAAI,CAAC;EACtD,IAAI;IAAEiB;EAAO,CAAC,GAAGf,SAAS,EAAE;EAE5B,MAAMgB,OAAO,GAAG,YAAY;IACxB,MAAMC,IAAI,GAAG,MAAMV,GAAG,CAACW,OAAO,CAAC,KAAK,EAAG,UAASH,MAAO,EAAC,CAAC;IACzD,IAAIE,IAAI,EAAE;MACNL,OAAO,CAACK,IAAI,CAAC;MACbH,eAAe,CAACG,IAAI,CAACE,MAAM,CAACC,GAAG,CAAC;IACpC;EACJ,CAAC;EAEDrB,SAAS,CAAEsB,CAAC,IAAK;IACb,MAAMC,UAAU,GAAGC,WAAW,CAAC,MAAM;MACjCP,OAAO,EAAE;IACb,CAAC,EAAE,IAAI,CAAC;IACR,OAAO,MAAMQ,aAAa,CAACF,UAAU,CAAC;EAC1C,CAAC,EAAE,EAAE,CAAC;EAEN,oBACI,QAAC,SAAS;IAAA,UAENX,IAAI,gBACA,QAAC,GAAG;MAAA,wBACA,QAAC,GAAG;QAAC,EAAE,EAAE;UAAEc,IAAI,EAAE,CAAC;UAAGC,MAAM,EAAE;QAAE,CAAE;QAAC,SAAS,EAAC,qBAAqB;QAAA,wBAC7D,QAAC,YAAY;UAAC,IAAI,EAAEf,IAAK;UAAC,IAAI,EAAE;QAAM;UAAA;UAAA;UAAA;QAAA,QAAE,EAEnCE,YAAY,IAAIJ,MAAM,iBAAM,QAAC,OAAO;UAAC,EAAE,EAAG,cAAaM,MAAO,EAAE;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAAgB;MAAA;QAAA;QAAA;QAAA;MAAA,QAEnF,eACN,QAAC,GAAG;QAAC,EAAE,EAAE,CAAE;QAAA,uBACP,QAAC,QAAQ;UAAC,MAAM,EAAEA,MAAO;UAAC,MAAM,EAAEN,MAAO;UAAC,OAAO,EAAEC;QAAQ;UAAA;UAAA;UAAA;QAAA;MAAE;QAAA;QAAA;QAAA;MAAA,QAC3D;IAAA;MAAA;MAAA;MAAA;IAAA,QACJ,gBAEN,QAAC,GAAG;MAAA,uBACA;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAkC;MAAA;MAAA;MAAA;IAAA;EAEzC;IAAA;IAAA;IAAA;EAAA,QAEO;AAEpB;AAAC,GA3CQF,IAAI;EAAA,QAGQR,SAAS;AAAA;AAAA,KAHrBQ,IAAI;AA6Cb,eAAeA,IAAI;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}